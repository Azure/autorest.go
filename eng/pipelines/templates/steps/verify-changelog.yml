parameters:
- name: PackagePath
  type: string
  default: 'not-specified'
- name: VersionString
  type: string
  default: ''

steps:
  - task: Powershell@2
    inputs:
      filePath: $(Build.SourcesDirectory)/eng/common/scripts/Verify-ChangeLog.ps1
      arguments: >
        -ChangeLogLocation '${{ parameters.PackagePath }}'/CHANGELOG.md
        -VersionString '${{ parameters.VersionString }}'
        -ForRelease $True
      pwsh: true
      workingDirectory: $(Pipeline.Workspace)
    displayName: Verify ChangeLogEntry for ${{ parameters.PackageName }}
    condition: ${{ parameters.Condition }}
    continueOnError: false
