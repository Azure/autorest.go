parameters:
- name: PackagePath
  type: string
  default: 'not-specified'
- name: VersionString
  type: string
  default: ''

steps:
  - task: PowerShell@2
    inputs:
      filePath: $(Build.SourcesDirectory)/eng/common/scripts/Verify-ChangeLog.ps1
      arguments: >
        -ChangeLogLocation '$(Build.SourcesDirectory)/packages/${{ parameters.PackagePath }}/CHANGELOG.md'
        -VersionString '${{ parameters.VersionString }}'
        -ForRelease $True
      pwsh: true
      workingDirectory: $(Pipeline.Workspace)
    displayName: Verify ChangeLogEntry for ${{ parameters.PackagePath }}
    continueOnError: false
